# Django Project
This directory contains the Django project. It's been generated using `django-admin startproject ____`. All django-related source code will live in this folder.
The detail of [project architecture diagarm](https://confluence.cis.unimelb.edu.au:8443/display/SWEN900132022PZ/Class+Diagram) is in our confluence space.

## Documentation
The Django documentation and the steps used to generate the project can be found [here](https://docs.djangoproject.com/en/4.0/intro/tutorial01/).

## System Structure

### 1. src folder
The src folder contains all the settings file and application routing urls.<br>
Every django application need to be registered in `urls.py` in this folder.<br>
All the envrionment configuration virables could be registered in `.env` file. And using the code below to get env virables:
```
os.environ.get('KEY','ELSE')
```
THe 'KEY' is what defined in `.env` file. IF no 'KEY' found, it will return 'ELSE' you defined.<br>
The real `.env` file should be used in your personal device and deployed on server only. Please don't upload `.env` on github because it is unsecurity.

### 2. utils folder
The utils folder invovled some common function.<br>
Every common function could be put in here.

### 3. Django Application
Each foler below is generated by django command to start a new django application:
```
python manage.py startapp [Application Name]
```
| Folder            | Application                                         | User Story        |
|-------------------|-----------------------------------------------------|-------------------|
| appForeground     | Serving for app installation and usage related data | US001             |
| callServer        | Serving for phone calls related data                | US002             |
| locationServer    | Serving for location related data                   | US003             |
| screenServer      | Serving for screen usage related data               | US004             |
| sms               | Serving for phone sms related data                  | US002             |
| twitterDataServer | Serving for client twitter related data             | US005             |
| userServer        | Serving for user management                         | US008/US010/US011 |

Each django application serve for one type of business scenario.<br>
The full user story table shows in the [User Story Page](https://confluence.cis.unimelb.edu.au:8443/display/SWEN900132022PZ/User+Stories) of our confluence space.

### 4. To Extent
1. Learning django ORM and restframework.
2. Start a new django application.
3. Register the application in `urls.py` in src folder.
4. Register the sub-route url in `urls.py` in your new application folder.
5. Coding whatever you want in the new application folder.

## Testing
The Django test case [test](https://docs.djangoproject.com/en/4.0/topics/testing/) is used for this project.
Run the following command to view the coverage result of the backend tests
```
coverage run manage.py test --parallel auto -v 2 --keepdb
coverage report -m
```
